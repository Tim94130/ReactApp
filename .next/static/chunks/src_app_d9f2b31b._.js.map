{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/timot/Documents/BACHELOR-3-DEV/REACT/projet-tvmaze/src/app/hooks/useFavorites.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\n\r\nconst STORAGE_KEY = 'favoriteShows'\r\n\r\nexport function useFavorites() {\r\n  const [favorites, setFavorites] = useState<number[]>([])\r\n\r\n  // Charger au démarrage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(STORAGE_KEY)\r\n    if (stored) {\r\n      setFavorites(JSON.parse(stored))\r\n    }\r\n  }, [])\r\n\r\n  // Sauvegarder à chaque changement\r\n  useEffect(() => {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(favorites))\r\n  }, [favorites])\r\n\r\n  const toggleFavorite = useCallback((id: number) => {\r\n    setFavorites((prev) =>\r\n      prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]\r\n    )\r\n  }, [])\r\n\r\n  const isFavorite = useCallback((id: number) => {\r\n    return favorites.includes(id)\r\n  }, [favorites])\r\n\r\n  return { favorites, toggleFavorite, isFavorite }\r\n}\r\n"],"names":[],"mappings":";;;AAEA;;AAFA;;AAIA,MAAM,cAAc;AAEb,SAAS;;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEvD,uBAAuB;IACvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,QAAQ;gBACV,aAAa,KAAK,KAAK,CAAC;YAC1B;QACF;iCAAG,EAAE;IAEL,kCAAkC;IAClC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACnD;iCAAG;QAAC;KAAU;IAEd,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE,CAAC;YAClC;4DAAa,CAAC,OACZ,KAAK,QAAQ,CAAC,MAAM,KAAK,MAAM;oEAAC,CAAA,IAAK,MAAM;qEAAM;2BAAI;wBAAM;qBAAG;;QAElE;mDAAG,EAAE;IAEL,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;gDAAE,CAAC;YAC9B,OAAO,UAAU,QAAQ,CAAC;QAC5B;+CAAG;QAAC;KAAU;IAEd,OAAO;QAAE;QAAW;QAAgB;IAAW;AACjD;GA3BgB","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/timot/Documents/BACHELOR-3-DEV/REACT/projet-tvmaze/src/app/components/ShowCard.jsx"],"sourcesContent":["// src/app/components/ShowCard.jsx\r\n'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { Star } from 'lucide-react'\r\nimport { useFavorites } from '@/app/hooks/useFavorites'\r\n\r\nexport default function ShowCard({ id, name, image }) {\r\n  const { isFavorite, toggleFavorite } = useFavorites()\r\n  const fav = isFavorite(id)\r\n\r\n  return (\r\n    <div className=\"relative border rounded-lg p-4 shadow-sm bg-white hover:shadow-lg transition flex flex-col h-full\">\r\n      {/* Bouton favoris */}\r\n      <button\r\n        onClick={() => toggleFavorite(id)}\r\n        className={`absolute top-2 right-2 p-1 ${\r\n          fav ? 'text-yellow-400' : 'text-gray-400'\r\n        } hover:opacity-80`}\r\n        aria-label={fav ? 'Retirer des favoris' : 'Ajouter aux favoris'}\r\n      >\r\n        <Star size={20} />\r\n      </button>\r\n\r\n      {/* Contenu de la carte */}\r\n      <div className=\"flex-grow\">\r\n        <h2 className=\"text-lg font-semibold mb-2 text-indigo-800\">{name}</h2>\r\n        {image && (\r\n          <img\r\n            src={image}\r\n            alt={name}\r\n            className=\"w-full rounded mb-4 object-cover max-h-64\"\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Bouton Voir la fiche */}\r\n      <Link\r\n        href={`/series/${id}`}\r\n        className=\"mt-4 block text-center bg-gradient-to-r from-indigo-600 to-indigo-400 text-white px-5 py-2 rounded-full hover:from-indigo-700 hover:to-indigo-500 transition\"\r\n      >\r\n        Voir la fiche\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAGlC;AACA;AACA;;;AAJA;;;;AAMe,SAAS,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;;IAClD,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,eAAY,AAAD;IAClD,MAAM,MAAM,WAAW;IAEvB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,eAAe;gBAC9B,WAAW,CAAC,2BAA2B,EACrC,MAAM,oBAAoB,gBAC3B,iBAAiB,CAAC;gBACnB,cAAY,MAAM,wBAAwB;0BAE1C,cAAA,6LAAC,qMAAA,CAAA,OAAI;oBAAC,MAAM;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA8C;;;;;;oBAC3D,uBACC,6LAAC;wBACC,KAAK;wBACL,KAAK;wBACL,WAAU;;;;;;;;;;;;0BAMhB,6LAAC,+JAAA,CAAA,UAAI;gBACH,MAAM,CAAC,QAAQ,EAAE,IAAI;gBACrB,WAAU;0BACX;;;;;;;;;;;;AAKP;GAtCwB;;QACiB,uIAAA,CAAA,eAAY;;;KAD7B","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/timot/Documents/BACHELOR-3-DEV/REACT/projet-tvmaze/src/app/page.tsx"],"sourcesContent":["// src/app/page.tsx\n'use client'\n\nimport Link from 'next/link'\nimport { useState, useEffect, useMemo } from 'react'\nimport { motion } from 'framer-motion'\nimport ShowCard from '@/app/components/ShowCard'\n\ninterface Show {\n  id: number\n  name: string\n  genres: string[]\n  image?: { medium?: string }\n}\n\nexport default function HomePage() {\n  const [query, setQuery] = useState('')\n  const [allShows, setAllShows] = useState<Show[]>([])\n  const [selectedGenre, setSelectedGenre] = useState('')\n  const [page, setPage] = useState(0)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    const fetchShows = async () => {\n      setLoading(true)\n      const res = await fetch(`https://api.tvmaze.com/shows?page=${page}`)\n      const data: Show[] = await res.json()\n      setAllShows(prev => [\n        ...prev,\n        ...data.slice(0, 50).filter(s => !prev.some(x => x.id === s.id))\n      ])\n      setLoading(false)\n    }\n    fetchShows()\n  }, [page])\n\n  const filteredByQuery = useMemo(\n    () =>\n      query.trim()\n        ? allShows.filter(s => s.name.toLowerCase().includes(query.toLowerCase()))\n        : allShows,\n    [query, allShows]\n  )\n\n  const filteredResults = useMemo(\n    () =>\n      selectedGenre\n        ? filteredByQuery.filter(s => s.genres.includes(selectedGenre))\n        : filteredByQuery,\n    [filteredByQuery, selectedGenre]\n  )\n\n  const genres = useMemo(() => {\n    const list = allShows.flatMap(s => s.genres)\n    return Array.from(new Set(list)).sort()\n  }, [allShows])\n\n  // Framer Motion variants\n  const container = {\n    hidden: { opacity: 0 },\n    show: {\n      opacity: 1,\n      transition: { staggerChildren: 0.1 }\n    }\n  }\n  const item = {\n    hidden: { opacity: 0, y: 20, scale: 0.95 },\n    show: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.4, ease: 'easeOut' } }\n  }\n\n  return (\n    <motion.main\n      className=\"bg-gradient-to-b from-sky-50 to-white min-h-screen py-12\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.8 }}\n    >\n      <div className=\"max-w-6xl mx-auto px-4\">\n        <header className=\"flex flex-col sm:flex-row items-center justify-between mb-12\">\n          <div className=\"text-center sm:text-left\">\n            <motion.h1\n              className=\"text-5xl font-extrabold text-indigo-800\"\n              initial={{ y: -20, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ duration: 0.6, ease: 'easeOut' }}\n            >\n              Découvre ta prochaine série\n            </motion.h1>\n            <motion.p\n              className=\"mt-2 text-lg text-gray-600\"\n              initial={{ y: -10, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.2, duration: 0.6 }}\n            >\n              Recherche, filtre, et explore les meilleures séries TV\n            </motion.p>\n          </div>\n          <Link\n            href=\"/favorites\"\n            className=\"mt-6 sm:mt-0 inline-block bg-indigo-600 text-white px-5 py-2 rounded-full shadow hover:bg-indigo-700 transition\"\n          >\n            Mes favoris\n          </Link>\n        </header>\n\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8\">\n          <motion.div\n            className=\"flex-1 flex items-center bg-white rounded-full shadow px-4\"\n            whileHover={{ scale: 1.02 }}\n            transition={{ duration: 0.3 }}\n          >\n            <svg\n              className=\"w-5 h-5 text-gray-400 mr-2\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M12.9 14.32a8 8 0 111.414-1.414l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387zm-4.9.68a6 6 0 100-12 6 6 0 000 12z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n            <input\n              type=\"text\"\n              className=\"w-full py-2 focus:outline-none rounded-full\"\n              placeholder=\"Rechercher une série...\"\n              value={query}\n              onChange={e => setQuery(e.target.value)}\n            />\n          </motion.div>\n          {genres.length > 0 && (\n            <motion.select\n              className=\"bg-white rounded-full shadow px-4 py-2 text-gray-700\"\n              value={selectedGenre}\n              onChange={e => setSelectedGenre(e.target.value)}\n              whileHover={{ scale: 1.05 }}\n              transition={{ duration: 0.3 }}\n            >\n              <option value=\"\">Tous genres</option>\n              {genres.map(g => (\n                <option key={g} value={g}>\n                  {g}\n                </option>\n              ))}\n            </motion.select>\n          )}\n        </div>\n\n        <motion.div\n          className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\"\n          variants={container}\n          initial=\"hidden\"\n          animate=\"show\"\n        >\n          {filteredResults.map(show => (\n            <motion.div key={show.id} variants={item}>\n              <ShowCard id={show.id} name={show.name} image={show.image?.medium} />\n            </motion.div>\n          ))}\n        </motion.div>\n\n        <div className=\"text-center mt-12\">\n          <motion.button\n            onClick={() => setPage(p => p + 1)}\n            disabled={loading}\n            className=\"inline-block bg-gradient-to-r from-indigo-600 to-indigo-400 text-white px-8 py-3 rounded-full shadow hover:from-indigo-700 hover:to-indigo-500 disabled:opacity-50 transition\"\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n          >\n            {loading ? 'Chargement...' : 'Voir plus de séries'}\n          </motion.button>\n        </div>\n      </div>\n    </motion.main>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}