{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/timot/Documents/BACHELOR-3-DEV/REACT/projet-tvmaze/src/app/hooks/useFavorites.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\n\r\nconst STORAGE_KEY = 'favoriteShows'\r\n\r\nexport function useFavorites() {\r\n  const [favorites, setFavorites] = useState<number[]>([])\r\n\r\n  // Charger au démarrage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(STORAGE_KEY)\r\n    if (stored) {\r\n      setFavorites(JSON.parse(stored))\r\n    }\r\n  }, [])\r\n\r\n  // Sauvegarder à chaque changement\r\n  useEffect(() => {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(favorites))\r\n  }, [favorites])\r\n\r\n  const toggleFavorite = useCallback((id: number) => {\r\n    setFavorites((prev) =>\r\n      prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]\r\n    )\r\n  }, [])\r\n\r\n  const isFavorite = useCallback((id: number) => {\r\n    return favorites.includes(id)\r\n  }, [favorites])\r\n\r\n  return { favorites, toggleFavorite, isFavorite }\r\n}\r\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAIA,MAAM,cAAc;AAEb,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEvD,uBAAuB;IACvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ;YACV,aAAa,KAAK,KAAK,CAAC;QAC1B;IACF,GAAG,EAAE;IAEL,kCAAkC;IAClC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD,GAAG;QAAC;KAAU;IAEd,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAClC,aAAa,CAAC,OACZ,KAAK,QAAQ,CAAC,MAAM,KAAK,MAAM,CAAC,CAAA,IAAK,MAAM,MAAM;mBAAI;gBAAM;aAAG;IAElE,GAAG,EAAE;IAEL,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC9B,OAAO,UAAU,QAAQ,CAAC;IAC5B,GAAG;QAAC;KAAU;IAEd,OAAO;QAAE;QAAW;QAAgB;IAAW;AACjD","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/timot/Documents/BACHELOR-3-DEV/REACT/projet-tvmaze/src/app/components/ShowCard.jsx"],"sourcesContent":["// src/app/components/ShowCard.jsx\r\n'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { Star } from 'lucide-react'\r\nimport { useFavorites } from '@/app/hooks/useFavorites'\r\n\r\nexport default function ShowCard({ id, name, image }) {\r\n  const { isFavorite, toggleFavorite } = useFavorites()\r\n  const fav = isFavorite(id)\r\n\r\n  return (\r\n    <div className=\"relative border rounded-lg p-4 shadow-sm bg-white hover:shadow-lg transition flex flex-col h-full\">\r\n      {/* Bouton favoris */}\r\n      <button\r\n        onClick={() => toggleFavorite(id)}\r\n        className={`absolute top-2 right-2 p-1 ${\r\n          fav ? 'text-yellow-400' : 'text-gray-400'\r\n        } hover:opacity-80`}\r\n        aria-label={fav ? 'Retirer des favoris' : 'Ajouter aux favoris'}\r\n      >\r\n        <Star size={20} />\r\n      </button>\r\n\r\n      {/* Contenu de la carte */}\r\n      <div className=\"flex-grow\">\r\n        <h2 className=\"text-lg font-semibold mb-2 text-indigo-800\">{name}</h2>\r\n        {image && (\r\n          <img\r\n            src={image}\r\n            alt={name}\r\n            className=\"w-full rounded mb-4 object-cover max-h-64\"\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Bouton Voir la fiche */}\r\n      <Link\r\n        href={`/series/${id}`}\r\n        className=\"mt-4 block text-center bg-gradient-to-r from-indigo-600 to-indigo-400 text-white px-5 py-2 rounded-full hover:from-indigo-700 hover:to-indigo-500 transition\"\r\n      >\r\n        Voir la fiche\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAGlC;AACA;AACA;AAJA;;;;;AAMe,SAAS,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;IAClD,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,eAAY,AAAD;IAClD,MAAM,MAAM,WAAW;IAEvB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,SAAS,IAAM,eAAe;gBAC9B,WAAW,CAAC,2BAA2B,EACrC,MAAM,oBAAoB,gBAC3B,iBAAiB,CAAC;gBACnB,cAAY,MAAM,wBAAwB;0BAE1C,cAAA,8OAAC,kMAAA,CAAA,OAAI;oBAAC,MAAM;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;oBAC3D,uBACC,8OAAC;wBACC,KAAK;wBACL,KAAK;wBACL,WAAU;;;;;;;;;;;;0BAMhB,8OAAC,4JAAA,CAAA,UAAI;gBACH,MAAM,CAAC,QAAQ,EAAE,IAAI;gBACrB,WAAU;0BACX;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/timot/Documents/BACHELOR-3-DEV/REACT/projet-tvmaze/src/app/favorites/page.tsx"],"sourcesContent":["// src/app/favorites/page.tsx\r\n'use client'\r\n\r\nimport { useFavorites } from '@/app/hooks/useFavorites'\r\nimport { useEffect, useState } from 'react'\r\nimport ShowCard from '@/app/components/ShowCard'\r\n\r\ninterface Show {\r\n  id: number\r\n  name: string\r\n  genres: string[]\r\n  image?: { medium?: string }\r\n}\r\n\r\nexport default function FavoritesPage() {\r\n  const { favorites } = useFavorites()\r\n  const [shows, setShows] = useState<Show[]>([])\r\n\r\n  // À chaque changement de favorites, on recharge les shows\r\n  useEffect(() => {\r\n    if (favorites.length === 0) {\r\n      setShows([])\r\n      return\r\n    }\r\n    Promise.all(\r\n      favorites.map(id =>\r\n        fetch(`https://api.tvmaze.com/shows/${id}`).then(r => r.json())\r\n      )\r\n    ).then(data => setShows(data))\r\n  }, [favorites])\r\n\r\n  return (\r\n    <main className=\"max-w-6xl mx-auto p-6\">\r\n      <h1 className=\"text-3xl font-bold text-indigo-800 mb-6\">Mes favoris</h1>\r\n\r\n      {favorites.length === 0 ? (\r\n        <p className=\"text-center text-gray-600\">Vous n'avez pas encore ajouté de favoris.</p>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          {shows.map(show => (\r\n            <ShowCard\r\n              key={show.id}\r\n              id={show.id}\r\n              name={show.name}\r\n              image={show.image?.medium}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAG7B;AACA;AACA;AAJA;;;;;AAae,SAAS;IACtB,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,eAAY,AAAD;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAE7C,0DAA0D;IAC1D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU,MAAM,KAAK,GAAG;YAC1B,SAAS,EAAE;YACX;QACF;QACA,QAAQ,GAAG,CACT,UAAU,GAAG,CAAC,CAAA,KACZ,MAAM,CAAC,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,MAE9D,IAAI,CAAC,CAAA,OAAQ,SAAS;IAC1B,GAAG;QAAC;KAAU;IAEd,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;YAEvD,UAAU,MAAM,KAAK,kBACpB,8OAAC;gBAAE,WAAU;0BAA4B;;;;;qCAEzC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAA,qBACT,8OAAC,qIAAA,CAAA,UAAQ;wBAEP,IAAI,KAAK,EAAE;wBACX,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK,EAAE;uBAHd,KAAK,EAAE;;;;;;;;;;;;;;;;AAU1B","debugId":null}}]
}